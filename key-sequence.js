function KeySequenceHandler(a){this.keySequences=a;this.keys=[];this.init()}KeySequenceHandler.prototype.init=function(){this.keys=this.getKeys(this.keySequences);document.addEventListener("keydown",function(a){a=a.keyCode;if(-1!=this.keys.indexOf(a))for(var b=0;b<this.keySequences.length;b++)this.keySequences[b].step(a)}.bind(this))};KeySequenceHandler.prototype.getKeys=function(a){for(var b=[],c=0;c<a.length;c++)for(var e=a[c].sequence,d=0;d<e.length;d++){var f=e[d];-1==b.indexOf(f)&&b.push(f)}return b};
function KeySequence(a,b){this.sequence=a;this.callback=void 0===b?Function.prototype:b;this.position=0}KeySequence.prototype.step=function(a){a==this.sequence[this.position]?(this.position++,this.position==this.sequence.length&&(this.position=0,this.callback())):this.position=0};
